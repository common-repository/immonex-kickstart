"use strict";(self.webpackChunk_immonex_kickstart=self.webpackChunk_immonex_kickstart||[]).push([[359,983],{1726:(t,e,n)=>{n.r(e),n.d(e,{init:()=>D});var r=n(467),i=n(4756),o=n.n(i),s=n(6678),a=n.n(s),l=function(){var t=this,e=t._self._c;return e("div",{class:t.classes},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.consentGranted,expression:"!consentGranted"}],staticClass:"inx-property-location-map__consent"},[e("p",{staticClass:"inx-property-location-map__privacy-note",domProps:{innerHTML:t._s(t.privacyNote)}}),t._v(" "),e("button",{staticClass:"inx-button inx-button--action uk-button uk-button-primary",on:{click:t.grantConsent}},[t._v(t._s(t.showMapButtonText))])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.consentGranted&&t.infowindow,expression:"consentGranted && infowindow"}],ref:"popup",staticClass:"ol-popup"},[e("a",{ref:"popupCloser",staticClass:"ol-popup-closer",on:{click:t.closeInfoWindow}}),t._v(" "),e("div",{ref:"popupContent"})]),t._v(" "),e("div",{ref:"map",class:["inx-property-location-map__map",{"inx-property-location-map__map--has-consent":t.consentGranted}]}),t._v(" "),t.consentGranted&&t.note?e("p",{staticClass:"inx-property-location-map__note"},[t._v(t._s(t.note))]):t._e()])};l._withStripped=!0;var c=n(4750),p=n(6717),u=n(9276),h=n(9700),d=n(1765),m=n(1795),f=n(4294),y=n(4982),g=n(3504),v=n(9701),w=n(702),_=n(7896),k=n(2412),b=n(2001),x=n(8751),S=n(8704),C=(n(2883),n(9570)),A=n.n(C),I=n(9843),T=n(2726);const P={name:"inx-property-location-open-layers-map",props:{type:{type:String,default:"osm"},options:{type:String,default:""},lat:{type:Number,default:49.858784},lng:{type:Number,default:6.785441},zoom:{type:Number,default:12},markerFillColor:{type:String,default:"#E77906"},markerFillOpacity:{type:Number,default:.8},markerStrokeColor:{type:String,default:"#404040"},markerStrokeWidth:{type:Number,default:3},markerScale:{type:Number,default:.75},markerIconUrl:!1,infowindow:{type:String,default:""},note:{type:String,default:""},wrapClasses:{type:String,default:""},privacyNote:{type:String,default:""},showMapButtonText:{type:String,default:"Agreed, show maps!"},requireConsent:{type:Boolean,default:!0}},data:function(){return{id:null,overlay:null,consentGranted:!1}},computed:{olSourceType:function(){return-1!==this.type.indexOf("osm")?"osm":"xyz"},classes:function(){var t=this.wrapClasses.length>0?this.wrapClasses.split(" "):[];return t.push("inx-property-location-map inx-property-location-map--type--olmap"),t=t.filter((function(t,e,n){return n.indexOf(t)===e})),t.join(" ")}},methods:{grantConsent:function(t){t&&(t.preventDefault(),this.$cookies.set("inx_consent_use_maps",!0)),this.consentGranted=!0;var e=this.createMap();this.$nextTick((function(){e.updateSize()}))},createMap:function(){var t=this.$refs.map,e=this.options?JSON.parse(atob(this.options)):{},n=e.maxZoom||18,r=this.zoom;n&&r>n&&(r=n);var i=new c.A({target:t,interactions:(0,b.N)({mouseWheelZoom:!1}).extend([new x.A({condition:S.k5})]),layers:[new g.A({source:"xyz"==this.olSourceType?new w.A(e):new _.A(e)})],view:new d.Ay({center:(0,y.Rb)([this.lng,this.lat]),zoom:r,minZoom:0,maxZoom:n})}),o=new p.A({geometry:new f.A((0,y.Rb)([this.lng,this.lat]))}),s=this.markerScale?Math.min(1,this.markerScale):1,a=1-.1*s;if(this.markerIconUrl)o.setStyle(new u.Ay({image:new h.A({anchor:[.5,a],src:this.markerIconUrl,scale:s})}));else{var l="--fillColor:"+this.markerFillColor+" ;--fillOpacity:"+this.markerFillOpacity+" ;--strokeWidth:"+this.markerStrokeWidth+" ;--strokeColor:"+this.markerStrokeColor,C=(new DOMParser).parseFromString(T,"image/svg+xml").documentElement;C.style.cssText=l,1!==s&&(C.setAttribute("width",Math.floor(C.getAttribute("width")*s)),C.setAttribute("height",Math.floor(C.getAttribute("height")*s)));var P=(new XMLSerializer).serializeToString(C);o.setStyle(new u.Ay({image:new h.A({anchor:[.5,a],src:"data:image/svg+xml,"+(0,I.getSvgImgSrc)(P)})}))}var O=new k.A({features:[o]}),M=new v.A({source:O});if(i.addLayer(M),this.infowindow){var N=this.$refs.popup,E=this.$refs.popupContent;this.overlay=new m.A({element:N,position:(0,y.Rb)([this.lng,this.lat]),positioning:"bottom-center",offset:[1,-50*s]}),E.innerHTML='<div class="inx-property-location-map__infowindow">'+this.infowindow+"</div>",i.addOverlay(this.overlay)}return A().util.on(".inx-single-property__tabbed-content","shown",(function(){i.updateSize()})),i},closeInfoWindow:function(){this.overlay.setPosition(void 0)}},mounted:function(){this.id=this._uid,this.requireConsent&&!this.$cookies.get("inx_consent_use_maps")||this.grantConsent(null)}};var O=n(4486);const M=(0,O.A)(P,l,[],!1,null,"9c2b497c",null).exports;var N=function(){var t=this,e=t._self._c;return e("div",{class:t.classes},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.consentGranted,expression:"!consentGranted"}],staticClass:"inx-property-location-map__consent"},[e("p",{staticClass:"inx-property-location-map__privacy-note",domProps:{innerHTML:t._s(t.privacyNote)}}),t._v(" "),e("button",{staticClass:"inx-button inx-button--action uk-button uk-button-primary",on:{click:t.grantConsent}},[t._v(t._s(t.showMapButtonText))])]),t._v(" "),e("div",{ref:"map",class:["inx-property-location-map__map",{"inx-property-location-map__map--has-consent":t.consentGranted}]}),t._v(" "),t.consentGranted&&t.note?e("p",{staticClass:"inx-property-location-map__note"},[t._v(t._s(t.note))]):t._e()])};N._withStripped=!0;var E=n(4869);const L={name:"inx-property-location-google-map",props:{options:{type:String,default:""},lat:{type:Number,default:49.858784},lng:{type:Number,default:6.785441},zoom:{type:Number,default:12},markerFillColor:{type:String,default:"#E77906"},markerFillOpacity:{type:Number,default:.8},markerStrokeColor:{type:String,default:"#404040"},markerStrokeWidth:{type:Number,default:3},markerScale:{type:Number,default:.75},markerIconUrl:!1,infowindow:{type:String,default:""},note:{type:String,default:""},wrapClasses:{type:String,default:""},apiKey:{type:String,default:""},privacyNote:{type:String,default:""},showMapButtonText:{type:String,default:"Agreed, show maps!"},requireConsent:{type:Boolean,default:!0}},data:function(){return{id:null,consentGranted:!1,google:null,defaultMapTypeId:"terrain"}},computed:{classes:function(){var t=this.wrapClasses.length>0?this.wrapClasses.split(" "):[];return t.push("inx-property-location-map inx-property-location-map--type--gmap-marker"),t=t.filter((function(t,e,n){return n.indexOf(t)===e})),t.join(" ")}},methods:{grantConsent:function(t){var e=this;return(0,r.A)(o().mark((function n(){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t&&(t.preventDefault(),e.$cookies.set("inx_consent_use_maps",!0)),e.consentGranted=!0,r=new E.aH({apiKey:e.apiKey,version:"weekly"}),n.next=5,r.load();case 5:return n.next=7,google.maps.importLibrary("core");case 7:return n.t0=n.sent,n.next=10,google.maps.importLibrary("maps");case 10:return n.t1=n.sent,n.next=13,google.maps.importLibrary("marker");case 13:n.t2=n.sent,e.google={core:n.t0,maps:n.t1,marker:n.t2},e.createMap();case 16:case"end":return n.stop()}}),n)})))()},createMap:function(){if(this.google){var t=this.$refs.map,e=this.options?JSON.parse(atob(this.options)):{};e.mapId="inx-property-location-map-"+this.id,e.center||(e.center={}),e.center.lat=this.lat,e.center.lng=this.lng,e.zoom=this.zoom,e.mapTypeId||(e.mapTypeId=this.defaultMapTypeId),e.disableDefaultUI||(e.disableDefaultUI=!0),e.zoomControl||(e.zoomControl=!0);var n,r=new this.google.maps.Map(t,e),i=this.markerScale?Math.min(1,this.markerScale):1;if(this.markerIconUrl){var o=document.createElement("img");o.src=this.markerIconUrl,1!=this.markerScale&&(o.style.cssText="width:"+100*i+"%; height:auto; margin-left:"+(1-i)/2*100+"%"),n=o}else{var s="--fillColor:"+this.markerFillColor+" ;--fillOpacity:"+this.markerFillOpacity+" ;--strokeWidth:"+this.markerStrokeWidth+" ;--strokeColor:"+this.markerStrokeColor,a=(new DOMParser).parseFromString(T,"image/svg+xml").documentElement;a.style.cssText=s,1!=i&&(a.setAttribute("width",Math.floor(a.getAttribute("width")*i)),a.setAttribute("height",Math.floor(a.getAttribute("height")*i))),n=a}var l=new this.google.marker.AdvancedMarkerElement({map:r,content:n,position:{lat:this.lat,lng:this.lng}});if(this.infowindow)new this.google.maps.InfoWindow({pixelOffset:new this.google.core.Size(0,5),content:'<div class="inx-property-location-map__infowindow">'+this.infowindow+"</div>"}).open(r,l)}}},mounted:function(){this.id=this._uid,this.requireConsent&&!this.$cookies.get("inx_consent_use_maps")||this.grantConsent(null)}};const G=(0,O.A)(L,N,[],!1,null,null,null).exports;var U=n(816);var $=function(){var t,e,n,r=this,i=r._self._c;return i("div",{class:r.classes},[i("div",{directives:[{name:"show",rawName:"v-show",value:!r.consentGranted,expression:"!consentGranted"}],staticClass:"inx-property-location-map__consent"},[i("p",{staticClass:"inx-property-location-map__privacy-note",domProps:{innerHTML:r._s(r.privacyNote)}}),r._v(" "),i("button",{staticClass:"inx-button inx-button--action uk-button uk-button-primary",on:{click:r.grantConsent}},[r._v(r._s(r.showMapButtonText))])]),r._v(" "),r.consentGranted?i("div",{staticClass:"inx-property-location-map__map inx-property-location-map__map--has-consent"},[i("iframe",{staticStyle:{width:"100%",height:"100%",border:"0"},attrs:(t={frameborder:"0",allowfullscreen:"",src:r.mapSrc},e="allowfullscreen",n="",(e=(0,U.A)(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t)})]):r._e(),r._v(" "),r.consentGranted&&r.note?i("p",{staticClass:"inx-property-location-map__note"},[r._v(r._s(r.note))]):r._e()])};$._withStripped=!0;const R={name:"inx-property-location-google-embed-map",props:{options:{type:String,default:""},location:{type:String,default:""},zoom:{type:Number,default:12},note:{type:String,default:""},wrapClasses:{type:String,default:""},apiKey:{type:String,default:""},privacyNote:{type:String,default:""},showMapButtonText:{type:String,default:"Agreed, show maps!"},requireConsent:{type:Boolean,default:!0}},data:function(){return{id:null,mapType:"roadmap",consentGranted:!1}},computed:{classes:function(){var t=this.wrapClasses.length>0?this.wrapClasses.split(" "):[];return t.push("inx-property-location-map inx-property-location-map--type--gmap-embed"),t=t.filter((function(t,e,n){return n.indexOf(t)===e})),t.join(" ")},mapSrc:function(){return"https://www.google.com/maps/embed/v1/place?key=".concat(this.apiKey,"&q=").concat(this.location,"&zoom=").concat(this.zoom,"&maptype=").concat(this.mapType)}},methods:{grantConsent:function(t){t&&(t.preventDefault(),this.$cookies.set("inx_consent_use_maps",!0));var e=this.options?JSON.parse(atob(this.options)):{};e.mapType&&(this.mapType=e.mapType),this.consentGranted=!0}},mounted:function(){this.id=this._uid,this.requireConsent&&!this.$cookies.get("inx_consent_use_maps")||this.grantConsent(null)}};const j=(0,O.A)(R,$,[],!1,null,null,null).exports;var z=function(){var t=this,e=t._self._c;return e("div",{class:t.classes},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.consentGranted,expression:"!consentGranted"}],staticClass:"inx-embed-consent-request__consent"},[t.iconTag?e("div",{staticClass:"inx-embed-consent-request__icon",domProps:{innerHTML:t._s(t.iconTag)}}):t._e(),t._v(" "),e("p",{staticClass:"inx-embed-consent-request__privacy-note",domProps:{innerHTML:t._s(t.privacyNote)}}),t._v(" "),e("div",{staticClass:"uk-flex uk-flex-middle uk-flex-wrap"},[e("div",{staticClass:"uk-width-1-1 uk-width-1-2@m uk-margin-small-bottom uk-margin-remove-bottom@m uk-text-center uk-text-left@m"},[e("button",{staticClass:"inx-button inx-button--action uk-button uk-button-primary",on:{click:t.grantConsent}},[t._v(t._s(t.buttonText))])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.privacyPolicyUrl,expression:"privacyPolicyUrl"}],staticClass:"uk-width-1-1 uk-width-1-2@m uk-margin-small-bottom uk-margin-remove-bottom@m uk-text-center uk-text-right@m"},[e("a",{attrs:{href:t.privacyPolicyUrl,target:"_blank"}},[e("span",{staticStyle:{"margin-right":"8px","vertical-align":"middle"},attrs:{"uk-icon":"icon: eye-slash"}}),t._v(t._s(t.privacyPolicyTitle))])])])]),t._v(" "),t.consentGranted?e("div",{staticClass:"inx-embed-consent-request__content inx-embed-consent-request__content--has-consent",domProps:{innerHTML:t._s(t.content)}}):t._e()])};z._withStripped=!0;const F={name:"inx-embed-consent-request",props:{type:{type:String,default:"generic"},content:{type:String,default:""},wrapClasses:{type:String,default:""},privacyNote:{type:String,default:""},buttonText:{type:String,default:"Agreed!"},iconTag:{type:String,default:""},privacyPolicyUrl:{type:String,default:""},privacyPolicyTitle:{type:String,default:"Privacy Policy"},requireConsent:{type:Boolean,default:!0}},data:function(){return{id:null,consentGranted:!1}},computed:{classes:function(){var t=this.wrapClasses.length>0?this.wrapClasses.split(" "):[];return t.push("inx-embed-consent-request inx-embed-consent-request--type--"+this.type),t=t.filter((function(t,e,n){return n.indexOf(t)===e})),t.join(" ")}},methods:{grantConsent:function(t){t&&(t.preventDefault(),this.$cookies.set("inx_consent_"+this.type,!0)),this.consentGranted=!0}},mounted:function(){this.id=this._uid,this.requireConsent&&!this.$cookies.get("inx_consent_"+this.type)||this.grantConsent(null)}};const q=(0,O.A)(F,z,[],!1,null,null,null).exports;var B=jQuery;function D(){return W.apply(this,arguments)}function W(){return(W=(0,r.A)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:document.getElementById("inx-property-details")?inx_state.vue_instances.property_details=new(a())({el:"#inx-property-details",components:{"inx-property-location-open-layers-map":M,"inx-property-location-google-map":G,"inx-property-location-google-embed-map":j,"inx-embed-consent-request":q}}):(inx_state.vue_instances.property_details=[],B(".inx-single-property__section").each((function(t){B(this).attr("id","inx-single-property-section-"+t),inx_state.vue_instances.property_details[t]=new(a())({el:"#inx-single-property-section-"+t,components:{"inx-property-location-open-layers-map":M,"inx-property-location-google-map":G,"inx-property-location-google-embed-map":j,"inx-embed-consent-request":q}})}))),e=void 0,(e=new URL(location)).searchParams.delete("inx-backlink-url"),history.replaceState(null,null,e);case 2:case"end":return t.stop()}var e}),t)})))).apply(this,arguments)}},9843:(t,e,n)=>{n.r(e),n.d(e,{addBacklinkURL:()=>p,getBacklinkURL:()=>c,getSvgImgSrc:()=>u,init:()=>h});var r=n(467),i=n(4756),o=n.n(i);function s(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return a(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var l=jQuery;function c(){if(inx_state.search.backlink_url)return inx_state.search.backlink_url;var t,e=new URLSearchParams(window.location.search),n=new URLSearchParams,r=s(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;"inx-r-"!==i[0].substring(0,6)&&n.append(i[0],i[1])}}catch(t){r.e(t)}finally{r.f()}var o=window.location.origin+window.location.pathname;return Array.from(n).length>0&&(o+="?"+n.toString()),o}function p(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e||(e=c());var n=new URL(t);return n.searchParams.has("inx-backlink-url")&&n.searchParams.delete("inx-backlink-url"),n.searchParams.append("inx-backlink-url",encodeURIComponent(e)),n.toString()}function u(t){return t.replace("<svg",~t.indexOf("xmlns")?"<svg":'<svg xmlns="http://www.w3.org/2000/svg"').replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/{/g,"%7B").replace(/}/g,"%7D").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function h(){return d.apply(this,arguments)}function d(){return(d=(0,r.A)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l(window).on("resize",(function(){l(".inx-squared-image").each((function(){l(this).height(l(this).width())}))})),window.setTimeout((function(){l(window).trigger("resize")}),0);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Function.prototype.inxThrottle=function(t){var e,n=0,r=this;function i(){var i=this;function s(t){n=Date.now(),r.apply(i,t)}var a=t-(Date.now()-n);o(),a<0?s(arguments):e=setTimeout(s,a,arguments)}function o(){e&&(clearTimeout(e),e=void 0)}return i.reset=function(){o(),n=0},i}},2726:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="-5 -5 261 261" style="--fillColor:#E77906; --fillOpacity:.8; --strokeColor:#404040; --strokeWidth:3">\n  <defs>\n    <linearGradient id="b" x1="0%" y1="0%" x2="75%" y2="80%">\n      <stop offset="75%" stop-color="var(--fillColor)" stop-opacity="var(--fillOpacity)"/>\n      <stop offset="100%" stop-color="var(--fillColor)" stop-opacity=".2"/>\n    </linearGradient>\n    <linearGradient id="a" x1="0%" y1="0%" x2="75%" y2="80%">\n      <stop offset="50%" stop-color="#FFF" stop-opacity="0"/>\n      <stop offset="100%" stop-opacity="1"/>\n    </linearGradient>\n  </defs>\n  <ellipse cx="50%" cy="224" rx="100" ry="30" fill="#222" stroke="var(--strokeColor)" stroke-width="var(--strokeWidth)" fill-opacity=".2"/>\n  <path d="M45 0C30.604 0 18.934 11.67 18.934 26.066S31.966 62.71 45 78.653C58.033 62.71 71.066 40.462 71.066 26.066S59.396 0 45 0m0 37.469c-6.516 0-11.798-5.282-11.798-11.798S38.484 13.873 45 13.873s11.798 5.282 11.798 11.798S51.516 37.469 45 37.469" style="stroke:none;stroke-width:var(--strokeWidth);stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:10;fill:url(#a);fill-rule:nonzero" transform="translate(1.407 1.407)scale(2.81)"/>\n  <path d="M45 0C30.604 0 18.934 11.67 18.934 26.066S31.966 62.71 45 78.653C58.033 62.71 71.066 40.462 71.066 26.066S59.396 0 45 0zm0 37.469c-6.516 0-11.798-5.282-11.798-11.798S38.484 13.873 45 13.873s11.798 5.282 11.798 11.798S51.516 37.469 45 37.469z" style="stroke:var(--strokeColor);stroke-width:var(--strokeWidth);stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:10;fill:url(#b);fill-rule:nonzero" transform="translate(1.407 1.407)scale(2.81)"/>\n  <ellipse cx="49%" cy="72" rx="32" ry="32" fill="#FFF" stroke="" stroke-width="0" fill-opacity=".1"/>\n</svg>'},4869:(t,e,n)=>{function r(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))}function i(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}n.d(e,{aH:()=>l}),"function"==typeof SuppressedError&&SuppressedError;var o=i((function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(i=r;0!=i--;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(o=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var s=o[i];if(!t(e[s],n[s]))return!1}return!0}return e!=e&&n!=n}));const s="__googleMapsScriptId";var a;!function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"}(a||(a={}));class l{constructor({apiKey:t,authReferrerPolicy:e,channel:n,client:r,id:i=s,language:a,libraries:c=[],mapIds:p,nonce:u,region:h,retries:d=3,url:m="https://maps.googleapis.com/maps/api/js",version:f}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=e,this.channel=n,this.client=r,this.id=i||s,this.language=a,this.libraries=c,this.mapIds=p,this.nonce=u,this.region=h,this.retries=d,this.url=m,this.version=f,l.instance){if(!o(this.options,l.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(l.instance.options)}`);return l.instance}l.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?a.FAILURE:this.done?a.SUCCESS:this.loading?a.LOADING:a.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let t=this.url;return t+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(t+=`&key=${this.apiKey}`),this.channel&&(t+=`&channel=${this.channel}`),this.client&&(t+=`&client=${this.client}`),this.libraries.length>0&&(t+=`&libraries=${this.libraries.join(",")}`),this.language&&(t+=`&language=${this.language}`),this.region&&(t+=`&region=${this.region}`),this.version&&(t+=`&v=${this.version}`),this.mapIds&&(t+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(t+=`&auth_referrer_policy=${this.authReferrerPolicy}`),t}deleteScript(){const t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise(((t,e)=>{this.loadCallback((n=>{n?e(n.error):t(window.google)}))}))}importLibrary(t){return this.execute(),google.maps.importLibrary(t)}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){var t,e;if(document.getElementById(this.id))return void this.callback();const n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach((t=>!n[t]&&delete n[t])),(null===(e=null===(t=null===window||void 0===window?void 0:window.google)||void 0===t?void 0:t.maps)||void 0===e?void 0:e.importLibrary)||(t=>{let e,n,i,o="The Google Maps JavaScript API",s="google",a="importLibrary",l="__ib__",c=document,p=window;p=p[s]||(p[s]={});const u=p.maps||(p.maps={}),h=new Set,d=new URLSearchParams,m=()=>e||(e=new Promise(((a,p)=>r(this,void 0,void 0,(function*(){var r;for(i in yield n=c.createElement("script"),n.id=this.id,d.set("libraries",[...h]+""),t)d.set(i.replace(/[A-Z]/g,(t=>"_"+t[0].toLowerCase())),t[i]);d.set("callback",s+".maps."+l),n.src=this.url+"?"+d,u[l]=a,n.onerror=()=>e=p(Error(o+" could not load.")),n.nonce=this.nonce||(null===(r=c.querySelector("script[nonce]"))||void 0===r?void 0:r.nonce)||"",c.head.append(n)})))));u[a]?console.warn(o+" only loads once. Ignoring:",t):u[a]=(t,...e)=>h.add(t)&&m().then((()=>u[a](t,...e)))})(n);const i=this.libraries.map((t=>this.importLibrary(t)));i.length||i.push(this.importLibrary("core")),Promise.all(i).then((()=>this.callback()),(t=>{const e=new ErrorEvent("error",{error:t});this.loadErrorCallback(e)}))}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){const t=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${t} ms.`),setTimeout((()=>{this.deleteScript(),this.setScript()}),t)}else this.onerrorEvent=t,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach((t=>{t(this.onerrorEvent)})),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading=!0,this.setScript()}}}}}]);